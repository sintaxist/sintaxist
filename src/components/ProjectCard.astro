---
import { Image } from 'astro:assets';
import Pill from '@/components/ui/Pill.astro';

const { project, lang, size = 'small' } = Astro.props;
const isLarge = size === 'large';
---
<a 
  href={`/${lang}/projects/${project.slug}/`}
  class="project-card group block" 
  transition:name={project.slug}
>
  <div class="relative overflow-hidden rounded-lg">
    <Image 
      src={project.imgSrc} 
      alt={`Imagen del proyecto ${project.title}`}
      width={isLarge ? 800 : 400}
      height={isLarge ? 600 : 300}
      class="w-full h-full object-cover transition-all duration-500 ease-in-out group-hover:blur-sm group-hover:scale-105"
    />
    <div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent">
      <div class="flex flex-col gap-2">
        <h3 class:list={["font-primary text-white", isLarge ? 'text-2xl' : 'text-xl']}>{project.title}</h3>
        {isLarge && project.description && (
          <p class="font-secondary text-white/80 text-sm">{project.description}</p>
        )}
        <!-- <div class="flex flex-wrap gap-2">
          {project.categories.map(cat => <Pill label={cat.name} />)}
        </div> -->
        <span class="font-secondary text-white font-bold mt-2 opacity-0 transition-opacity duration-300 group-hover:opacity-100">
          Ver m√°s &rarr;
        </span>
      </div>
    </div>
  </div>
</a>